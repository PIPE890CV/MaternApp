<ion-header>
  <ion-toolbar color="primary">
    <ion-title>Panel MÃ©dico - MaternApp</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <!-- ESTADÃSTICAS PRINCIPALES -->
  <ion-grid class="ion-margin-bottom">
    <ion-row>
      <ion-col size="6" size-md="3">
        <ion-card color="primary">
          <ion-card-header>
            <ion-card-title>{{ totalPacientes }}</ion-card-title>
          </ion-card-header>
          <ion-card-content>
            <small>Total Pacientes</small>
          </ion-card-content>
        </ion-card>
      </ion-col>

      <ion-col size="6" size-md="3">
        <ion-card color="warning">
          <ion-card-header>
            <ion-card-title>{{ pacientesConAlertas }}</ion-card-title>
          </ion-card-header>
          <ion-card-content>
            <small>Con Alertas</small>
          </ion-card-content>
        </ion-card>
      </ion-col>

      <ion-col size="6" size-md="3">
        <ion-card color="success">
          <ion-card-header>
            <ion-card-title>{{ embarazosAvanzados }}</ion-card-title>
          </ion-card-header>
          <ion-card-content>
            <small>+35 Semanas</small>
          </ion-card-content>
        </ion-card>
      </ion-col>

      <ion-col size="6" size-md="3">
        <ion-card color="tertiary">
          <ion-card-header>
            <ion-card-title>{{ pacientesJovenes }}</ion-card-title>
          </ion-card-header>
          <ion-card-content>
            <small>Menores 20 aÃ±os</small>
          </ion-card-content>
        </ion-card>
      </ion-col>
    </ion-row>
  </ion-grid>

 <!-- BÃšSQUEDA RÃPIDA -->
<ion-card>
  <ion-card-header>
    <ion-card-title>ğŸ” BÃºsqueda RÃ¡pida</ion-card-title>
  </ion-card-header>
  <ion-card-content>
    <!-- ... contenido ... -->
  </ion-card-content>
</ion-card>
<!-- BOTÃ“N TEMPORAL PARA CREAR DATOS DE PRUEBA -->
<ion-card color="warning">
  <ion-card-header>
    <ion-card-title>ğŸ§ª TEST - Crear Datos de Prueba</ion-card-title>
  </ion-card-header>
  <ion-card-content>
    <p>Haz clic aquÃ­ para generar pacientes con alertas y probar los botones "ğŸ‘ï¸ Ver"</p>
    <ion-button expand="block" (click)="crearDatosPruebaAutomaticamente()" color="danger">
      ğŸ¯ Generar Datos de Prueba con Alertas
    </ion-button>
  </ion-card-content>
</ion-card>

  <!-- DOS COLUMNAS PRINCIPALES -->
  <ion-grid>
    <ion-row>
      <!-- COLUMNA IZQUIERDA: PACIENTES PRIORITARIOS -->
      <ion-col size="12" size-md="6">
        <ion-card>
          <ion-card-header>
            <ion-card-title>âš ï¸ Casos Prioritarios</ion-card-title>
          </ion-card-header>
          <ion-card-content>
            <div *ngIf="pacientesPrioritarios.length === 0" class="ion-text-center ion-padding">
              <p>ğŸ‰ No hay casos prioritarios</p>
              <small>Todos los pacientes estÃ¡n estables</small>
            </div>

            <ion-item *ngFor="let madre of pacientesPrioritarios" class="ion-margin-bottom">
              <ion-label>
                <h3>{{ madre.nombre }}</h3>
                <p>Edad: {{ madre.edad }} â€¢ Semanas: {{ madre.semanaGestacion }}</p>
                <p>Tel: {{ madre.telefono }}</p>
                <div>
                  <ion-badge 
                    *ngFor="let alerta of madre.alertas" 
                    [color]="obtenerColorAlerta(madre.alertas.length)"
                    class="ion-margin-end">
                    {{ alerta }}
                  </ion-badge>
                </div>
              </ion-label>
              <ion-button fill="clear" size="small" (click)="verDetalleRapido(madre)">
                ğŸ‘ï¸ Ver
              </ion-button>
            </ion-item>
          </ion-card-content>
        </ion-card>

        <!-- PRÃ“XIMOS CONTROLES -->
        <ion-card>
          <ion-card-header>
            <ion-card-title>ğŸ“… PrÃ³ximos Controles</ion-card-title>
          </ion-card-header>
          <ion-card-content>
            <ion-item *ngFor="let control of proximosControles">
              <ion-label>
                <h3>{{ control.nombre }}</h3>
                <p>{{ control.tipo }}</p>
                <p><small>{{ control.fecha }}</small></p>
              </ion-label>
            </ion-item>
          </ion-card-content>
        </ion-card>
      </ion-col>

      <!-- COLUMNA DERECHA: LISTA DE PACIENTES -->
      <ion-col size="12" size-md="6">
        <ion-card>
          <ion-card-header>
            <ion-card-title>ğŸ‘¥ Lista de Pacientes</ion-card-title>
          </ion-card-header>
          <ion-card-content>
            <div *ngIf="pacientesFiltrados.length === 0" class="ion-text-center ion-padding">
              <p>No se encontraron pacientes</p>
            </div>

            <ion-item *ngFor="let madre of pacientesFiltrados" class="ion-margin-bottom">
              <ion-label>
                <h3>{{ madre.nombre }}</h3>
                <p>Edad: {{ madre.edad }} â€¢ Semanas: {{ madre.semanaGestacion }}</p>
                <p>Tel: {{ madre.telefono }}</p>
                <p><small>FPP: {{ madre.fpp }}</small></p>
                <ion-badge *ngIf="madre.alertas.length > 0" color="warning">
                  {{ madre.alertas.length }} alerta(s)
                </ion-badge>
                <ion-badge *ngIf="madre.alertas.length === 0" color="success">
                  Estable
                </ion-badge>
              </ion-label>
            </ion-item>

            <ion-button expand="block" [routerLink]="['/pacientes']" class="ion-margin-top">
              Ver Todos los Pacientes
            </ion-button>
          </ion-card-content>
        </ion-card>

        <!-- ACCIONES RÃPIDAS -->
        <ion-card>
          <ion-card-header>
            <ion-card-title>âš¡ Acciones RÃ¡pidas</ion-card-title>
          </ion-card-header>
          <ion-card-content>
            <ion-button expand="block" (click)="navegarAHerramientas()" class="ion-margin-bottom">
              ğŸ§® Herramientas MÃ©dicas
            </ion-button>
            <ion-button expand="block" (click)="navegarAGestionPacientes()" fill="outline">
              ğŸ“‹ GestiÃ³n de Pacientes
            </ion-button>
          </ion-card-content>
        </ion-card>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
